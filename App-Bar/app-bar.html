<header class="app-bar">
    {%- assign navigation-back = include.navigation-back | default: page.navigation-back %}
    {%- assign subtitle = include.subtitle | default: page.subtitle %}

    {%- assign right-buttons = "" | split: "" %}
    {%- if page.app-bar.right-buttons %}
        {%- assign right-buttons = right-buttons | concat: page.app-bar.right-buttons %}
    {%- endif %}
    {%- if layout.app-bar.right-buttons %}
        {%- assign right-buttons = right-buttons | concat: layout.app-bar.right-buttons %}
    {%- endif %}
    {%- if include.right-buttons %}
        {%- assign right-buttons = right-buttons | concat: include.right-buttons %}
    {%- endif %}
    {%- if site.app-bar.right-buttons %}
        {%- assign right-buttons = right-buttons | concat: site.app-bar.right-buttons %}
    {%- endif %}


    {%- if navigation-back %}
    <a href="{{ navigation-back | replace: true, '/' }}" {%- if navigation-back == "true" %} onclick="window.history.back(); return false;" {%- endif %} class="flat button   back-to-root-link"><i class="material-icons    back-to-root-icon   invisible">arrow_back</i>
        <h1 class="title"><span class="title-text">{{ include.title | default: page.title }}</span>
            {%- if subtitle -%} <span class="subtitle-text">{{ subtitle }}</span>{% endif %}</h1></a>
    {%- else %}
    <a href="#" class="flat button show-sidebar-button" onclick="return false;"><i class="material-icons">menu</i></a>
    <a href="/" class="flat button   back-to-root-link"><h1 class="title"><span class="title-text">{{ include.title | default: page.title }}</span>{% if subtitle %}<span class="subtitle-text">{{ subtitle }}</span>{% endif %}</h1></a>
    {%- endif %}


    {%- if right-buttons and right-buttons.size > 0 %}
    {%- for button in right-buttons %}
    <a href="{{ button.href }}" class="flat button   {{ button.classNames }}" onclick="{{ button.onClick | default: 'return false;' }}">
        {%- include Neon-Jekyll-Components/Icons/icon.html
            materialIcon = button.materialIcon
            materialIconVariant = button.materialIconVariant
            fontAwesomeIcon = button.fontAwesomeIcon
            -%}
    </a>
    {%- endfor %}
    {%- else %}
    <span class="layout-placeholder"></span>
    {%- endif %}
</header>
